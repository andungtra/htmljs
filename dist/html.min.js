!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e):"function"==typeof e.define?e.define(t(e)):e.html=t(e)}(this,function(e){"use strict";function t(e){Object.defineProperty(v,e,{get:function(){var t=f.createElement(e);return null==s?s=t:(s.appendChild(t),s=t),v}})}function n(e,t){var n,r=(e.ownerDocument||f).defaultView;return r&&r.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?function(t){var n=e.style.left,r=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=r,t}(n):n):void 0}function r(e,t,n){if(t=h(t),n=h(n),""!==n){for(var r=e.className;r.indexOf(n)!==-1;)r=r.replace(n,""),r=h(r);e.className=r}""!==t&&(e.className+=""===e.className?t:" "+t)}function i(e,t,n){t*=n;for(var r=0;r<n&&e.children.length;r++)e.removeChild(e.children[t])}function a(e,t,n){var r=null;if(0===t.children.length)throw"You must add at least one element";for(n*=t.children.length,r=e.children[n];t.children.length;)e.insertBefore(t.children[0],r)}function o(e,t,n){t?e.style.display="none"!==n?n:"":e.style.display="none"}function u(e,t,n){if(null==v.unwrapData(t))return-1;var r=v.unwrapData(e),i=v.unwrapData(t),a=r.indexOf(i);if(""!==n){var o=r.find(function(e){return e[n]===i[n]});a=r.indexOf(o)}return a}function c(e,t){"true"===t||t===!0?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}var s=null,l=null,f=e.document,d=function(e){return"string"==typeof e},p=String.prototype.trim,h=function(e){return p&&p.call(e)||e.replace(/^\s+|\s+$/,"")},v=e.html=function e(t,n){return"string"==typeof t?(n=n||f,t=n.querySelector(t)):"function"==typeof t&&e.ready(t),s=t,e};v.find=function(e){return"string"==typeof e&&(s=s.querySelector(e)),v},v.config={allowDuplicateScripts:!1},Object.defineProperty(v,"context",{get:function(){return s}}),v.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},v.unwrapData=function(e){var t=e;return null!=t&&t.subscribe&&(t=t.data),t},v.empty=function(){if(null==s)throw"Expect a context to execute this function. Please query an element first.";return s.innerHTML="",this};for(var m=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","object","ol","ptgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video"],y=0,b=m.length;y<b;y++)t(m[y]);Object.defineProperty(v,"$",{get:function(){return null!=s&&null!=s.parentElement&&(s=s.parentElement),v}}),["hr","br"].forEach(function(e){Object.defineProperty(v,e,{get:function(){return s.appendChild(f.createElement(e)),v}})});var g=["click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","keydown","keypress","keyup","abort","beforeunload","error","hashchange","load","resize","scroll","unload","blur","change","input","focus","focusin","focusout","inputting","invalid","reset","search","select","submit","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","copy","cut","paste","afterprint","beforeprint","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","animationend","animationiteration","animationstart","transitionend","message","online","offline","popstate","show","storage","toggle","wheel","compositionend","compositionstart","DOMContentLoaded"];g.forEach(function(e){v["on"+e[0].toUpperCase()+e.slice(1)]=function(t,n,r){if(null==s)throw"Expect a context to bind event. Please query an element first.";return null==t?v.trigger(e):s.addEventListener(e,function(e){var r=e.srcElement||e.target;l=r,t.call(r,e,n)},r),v}}),v.trigger=function(e){if(!e)throw"Event name must be specified";var t;f.createEvent?(t=f.createEvent("HTMLEvents"),t.initEvent(e,!0,!0)):f.createEventObject&&(t=f.createEventObject(),t.eventType=e);try{return void s[e]()}catch(e){}try{t.eventName=e,s.dispatchEvent?s.dispatchEvent(t):s.fireEvent?s.fireEvent("on"+t.eventType,t):s["on"+e]&&s["on"+e]()}catch(e){}},v.text=function(e){var t=f.createTextNode(v.unwrapData(e));return s.appendChild(t),null!=e&&e.subscribe&&e.subscribe(function(e){t.textContent=e}),v},v.html=function(e){if(null!=e){var t=v.unwrapData(e),n=v.context;try{n.innerHTML=t}catch(e){n.innerText=t}return e.subscribe&&e.subscribe(function(e){try{n.innerHTML=e}catch(t){n.innerText=e}}),v}},v.value=function(e){var t=s,n=v.unwrapData(e);return t.value=null==n?"":n,e.subscribe&&(e.subscribe(function(e){l!==t&&(t.value=null==e?"":e)}),v(t).onInput(function(){e.data=this.value}),e.bindingNodes.push(s)),v},v.attr=function(e,t){if("string"==typeof e){if(void 0===t)return s.getAttribute(e);null!==t&&s.setAttribute(e,v.unwrapData(t))}else for(var n in e)e.hasOwnProperty(n)&&s.setAttribute(n,v.unwrapData(e[n]));return this};var w=/-([a-z])/g,x=function(e,t){return t.toUpperCase()},E=function(e){return e?e.replace(w,x):""};return v.css=function(e,t){if("string"==typeof e)return e=E(e),null==t?f.defaultView?n(s,e):s.currentStyle&&s.currentStyle[e]:(s.style[e]=t,this);for(var r in e)e.hasOwnProperty(r)&&(s.style[E(r)]=e[r]);return this},v.className=function(e){if(null==e)return v;var t=v.unwrapData(e),n=v.context;return r(n,t,t),e.subscribe&&e.subscribe(function(e,t){r(n,e,t)}),v},v.each=function(e,t){function n(e,n,o,u){var c=0;switch(s=r,u){case"push":t.call(r,n,o);break;case"add":if(o===e.length-1)return void t.call(r,n,o);var l=f.createElement("div");s=l,t.call(l,n,o),a(r,l,o),l=null;break;case"remove":c=r.children.length/(e.length+1),i(r,o,c);break;case"move":c=r.children.length/e.length;var d=o,p=e.indexOf(n);if(d===p)return;for(var h=p*c,m=p<d?r.children[(d+1)*c]:r.children[d*c],y=0;y<c;y++)r.insertBefore(r.children[h],m),p>d&&h++;break;case"render":v.empty();for(var b=e.length||e,g=-1;++g<b;)s=r,t.call(r,null==e[g]?g:e[g],g)}}if(null!=e){var r=s;v(r).empty();for(var o=v.unwrapData(e),u=o.length||o,c=-1;++c<u;)s=r,t.call(r,null==o[c]?c:o[c],c);return s=r,e.subscribe&&e.subscribe(n),this}},v.append=function(e){return null!=s&&s.appendChild(e),v},v.prepend=function(e){if(null!=s){var t=s.parentElement;t.insertBefore(e,t.firstChild)}return v},v.after=function(e){if(null!=s){var t=s.parentElement;t.insertBefore(e,s.nextElementSibling)}return v},v.before=function(e){if(null!=s){var t=s.parentElement;t.insertBefore(e,s)}return v},v.visible=function(e){var t=v.unwrapData(e),n=v.context,r=v.css("display");return o(n,t,r),e.subscribe&&e.subscribe(function(e){o(n,e,r)}),v},v.hidden=function(e){var t=e.data,n=v.context,r=v.css("display");return o(n,!t,r),e.subscribe&&e.subscribe(function(e){o(n,!e,r)}),v},v.dropdown=function(e,t,n,r){"select"!==s.nodeName.toLowerCase()&&v.select;var i=s;return v.each(e,function(e){var t=d(r)?e[r]:e,i=d(n)?e[n]:e;v.option.text(i).value(t).$}),i.selectedIndex=u(e,t,r),e.subscribe&&e.subscribe(function(e){i.selectedIndex=u(e,t,r)}),null!=t&&t.subscribe&&(t.bindingNodes.push(i),v(i).onChange(function(){var n=v.unwrapData(e)[this.selectedIndex];t.data=n}),t.subscribe(function(t){i.selectedIndex=u(e,t,r)})),v},v.checkbox=function(e){function t(t){var n=t.srcElement||t.target;null!=e._computedFn?e.notify():e.data=n.checked===!0}"checkbox"!==v.context.type&&v.input.attr({type:"checkbox"});var n=v.context;return c(n,v.unwrapData(e)),null!=e&&e.subscribe?(this.onChange(t).onClick(t),e.subscribe(function(e){l!==n&&c(n,e)})):n=null,v},v}),function(e,t){"use strict";function n(e){return"object"==typeof e&&null!=e&&!(e instanceof Date)}!function(){for(var e=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[n[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n,r){var i=(new Date).getTime(),a=Math.max(0,16-(i-e)),o=t.setTimeout(function(){n(i+a)},a);return e=i+a,o}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){t.clearTimeout(e)})}(),e.unwrapData=function(e){var t=e;return null!=t&&t.subscribe&&(t=t.data),t},e.unwrapNoSideEffect=function(e,t){var n=e;for(e.subscribe&&(n=e._computedFn instanceof Function?e._computedFn:e._newData,t&&(n=e._newData));n instanceof Function;)n=n();return n};var r=[],i=[];e.observable=function(n){function a(){var e;if(null!=c._computedFn){for(r.push(c),e=c._computedFn;e instanceof Function;)e=e();c._oldData=c._newData,c._newData=e,r.pop()}else e=c._newData;return r.length&&c.setDependency(r[r.length-1]),e}function o(e){c._newData!==e&&(c._oldData=c._newData,c._newData=e,c.notify())}function u(){var t=i.indexOf(c)>=0;if(!t){i.push(c);var n=e.unwrapData(c);c.subscribers.forEach(function(e){e(n,c._oldData)}),c.dependencies.forEach(function(e){e.notify()}),i.splice(i.indexOf(c),1)}}if(!(this instanceof e.observable))return new e.observable(n);var c=this;this._newData=null,this._computedFn=null,this._oldData=null,this.subscribers=[],this.rules=[],this.bindingNodes=[],this.dependencies=[],this.isValid=null,this.delayTime=null,"function"==typeof n?(c._computedFn=n,r.push(c),c._newData=c._oldData=n(),r.pop()):c._newData=c._oldData=n,this.setDependency=function(e){var t=c.dependencies.indexOf(e);t<0&&e!==c&&c.dependencies.push(e)},Object.defineProperty(c,"data",{get:a,set:o}),this.subscribe=function(e){return c.subscribers.indexOf(e)<0&&c.subscribers.push(e),c};var s;this.notify=function(){return null==c._computedFn&&null==c.delayTime?void u():(t.cancelAnimationFrame(s),void(s=t.requestAnimationFrame(function(){u()},c.delayTime)))},this.delay=function(e){if("number"!=typeof e)throw TypeError("Delay time must be a number.");return c.delayTime=e,c},this.validators=function(e){c.rules.push(e)},this.validate=function(){return c.isValid=null,c.rules.forEach(function(e){e(c)}),c.isValid}},e.observableArray=function(t){function n(e,t,n,a){var o=i.indexOf(r)>=0;o||(i.push(r),r.subscribers.forEach(function(r){r(e,t,n,a)}),r.dependencies.forEach(function(e){e.notify()}),i.splice(i.indexOf(r),1))}if(null==t)throw TypeError(" data is null or undefined.");if(!(t instanceof Array))throw TypeError(" expected an array but got a non-array parameter.");var r=this;return r instanceof e.observableArray?(e.observable.call(r,t),this.notify=function(e,t,i,a){e=e||r._newData,a=a||"render",n(e,t,i,a)},this.push=function(e){r.add(e)},this.add=function(e,t){t=void 0===t?r._newData.length:t,r._newData.splice(t,0,e),r.notify(r._newData,e,t,"add")},this.remove=function(e){var t=r._newData.indexOf(e);r.removeAt(t)},this.removeAt=function(e){var t=r._newData[e];r._newData.splice(e,1),r.notify(r._newData,t,e,"remove")},void(this.update=function(e,t){r._newData[t]=e,r.notify(r._newData,e,t,"udpate")})):new e.observableArray(t)},e.observableArray.prototype=Object.create(e.observable.prototype),e.serialize=function(t){if(t=t.subscribe?t._newData:t,null==t)return t;var r=t instanceof Array,i=r?[]:{},a=n(t)||null!=t;if(!a)return t;for(var o in t)if(t[o]&&t[o].subscribe&&!t[o].add){var u=t[o]._newData;i[o]=n(u)?e.unwrapData(t[o]):u}else i[o]=e.serialize(t[o]);if(r){o=0;for(var c=t.length;o<c;o++)i[o]=e.serialize(t[o])}return i}}(this.html||this,this),function(e,t){"use strict";function n(t){t.parentElement.removeChild(t);var n=t.jsonpId;e.ajax["jsonpId"+n]=void 0,t=null}var r=t.setTimeout,i=t.document,a=t.XMLHttpRequest;e.Promise=function(t){if(!(this instanceof e.Promise))return new e.Promise(t);var n=this;n.doneActions=[],n.failActions=[],n.resolve=function(e){n.doneActions.forEach(function(t){null!=t&&t(e)})},n.reject=function(e){n.failActions.forEach(function(t){null!=t&&t(e)})},n.done=function(e){return"function"==typeof e&&n.doneActions.push(e),n},n.fail=function(e){return"function"==typeof e&&n.failActions.push(e),n},r(function(){t(n.resolve,n.reject)})};var o=0,u=[];e.ajax=function(t,r,c,s){if(!(this instanceof e.ajax))return new e.ajax(t,r,c,s);var l,f,d,p={},h=null,v=null;c=c||"GET",s=void 0===s||s;var m=e.Promise(function(m,y){var b=u.find(function(e){return e.url===t});if(null!=b)return void m(b.data);if(l){var g=t+(/\?/.test(t)?"&":"?"),w=i.getElementsByTagName("head")[0],x=i.createElement("script"),E=[],D="";o++,e.ajax["jsonpId"+o]=l,r=r||{},r.callback="html.ajax.jsonpId"+o;for(D in r)r.hasOwnProperty(D)&&E.push(D+"="+encodeURIComponent(r[D]));return g+=E.join("&"),x.type="text/javascript",x.src=g,w.appendChild(x),x.jsonpId=o,void(void 0!==x.onreadystatechange&&(x.onload=x.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||n(x)}))}var _=new a;_.open(c,t,s,f,d),_.onreadystatechange=function(){if(4===_.readyState&&200===_.status){var e;try{e=null!=h?h(_.responseText||_.responseXML):_.responseText||_.responseXML}catch(e){y("Invalid data type.",_)}m(e)}else 4===_.readyState&&200!==_.status&&y(_.response,_)};for(var A in p)p.hasOwnProperty(A)&&_.setRequestHeader(A,p[A]);v&&v>0&&(_.timeout=v,_.ontimeout=function(){y("timeout",_)}),_.send(r)});this.jsonp=function(e){return l=e,this},this.authenticate=function(e,t){return f=e,d=t,this},this.header=function(t,n){return void 0!==n&&"function"==typeof t?p[t]=n:e.extend(p,t),this},this.parser=function(e){return h=e,this},this.timeout=function(e){return v=e,this},this.contentType=function(t){return e.extend(p,{"Content-type":t}),this},this.done=m.done,this.fail=m.fail},e.ajax.mock=function(e,t){u.push({url:e,data:t})},e.ajax.clearMock=function(e){for(;u.length;)u.pop()},e.getJSON=function(t,n,r){var i=[];for(var a in n)n.hasOwnProperty(a)&&i.push(encodeURIComponent(a)+"="+encodeURIComponent(n[a]));return e.ajax(i.length?t+"?"+i.join("&"):t,null,"GET",r).parser(JSON.parse)},e.postJSON=function(t,n,r){return e.ajax(t,JSON.stringify(n),"POST",r).header({"Content-type":"application/json"}).parser(JSON.parse)},e.partial=function(t,n){if(null==n)throw"containerSelector is null or undefined";var r=e(n).context,i=null,a=[],o=e.ajax(t);return o.done(function(t){if(e(r).empty(),r.innerHTML=t,r=null,null!=i){var n=e.scripts.render(i);n.done(function(){a.forEach(function(e){null!=e&&e(t)})})}else a.forEach(function(e){null!=e&&e(t)})}),o.scripts=function(e){return i=e,o},o.done=function(e){return"function"==typeof e&&a.push(e),o},o}}(this.html,this),function(e,t){"use strict";var n=t.document,r=t.setTimeout;e.ready=function(e){u(e),f()};var i=!1,a=!1,o=[],u=function(e){"function"==typeof e&&o.push(e)},c=function(){for(;o.length;)o.shift()();u=function(e){e()}},s=function(){n.addEventListener?n.removeEventListener("DOMContentLoaded",s,!1):n.detachEvent("onreadystatechange",s),l()},l=function(){if(!a){if(!n.body)return r(l,1);a=!0,c()}},f=function(){var e=!1;if(!i)if(i=!0,"loading"!==n.readyState&&l(),n.addEventListener)n.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);try{e=null===t.frameElement}catch(e){}n.documentElement.doScroll&&e&&d()}},d=function(){if(!a){try{n.documentElement.doScroll("left")}catch(e){return void r(d,1)}l()}}}(this.html,this),function(e,t){"use strict";function n(e,t){e.forEach(function(e){e&&e.apply(null,t)})}function r(t){if(null!=Array.prototype.find){var r=null,i=null,c=null;if(r=a.pathname+a.hash,i=u.find(function(e){return e.test(r)}),c=o.find(function(e){return e.pattern.test(r)}),null!=c&&!i){var s=r.match(c.pattern);s.shift(),c.partialURL?e.partial(c.partialURL,c.container).done(function(){var t=null!=c.scripts&&c.scripts.slice(0);if(null!=t&&t.length>0){for(var r=e.scripts.render(t.shift());t.length;)r.then(t.shift());r.done(function(){n(c.doneActions,s)})}else n(c.doneActions,s)}):n(c.doneActions,s)}}}var i=t.history,a=t.location,o=[],u=[],c=null;c=function(e){var t="^"+e.replace(/\//g,"\\/").replace(/\?/g,"\\?").replace(/:([0-9a-zA-Z-_]*)/g,"([0-9a-zA-Z-_]*)")+"$";return new RegExp(t)},e.router={},e.router.when=function(t,n){var r=o.find(function(e){return e.originalPattern===t});if(r)throw"Duplicated pattern: "+t+". Please provide another pattern!";return o.push({originalPattern:t,pattern:c(t),doneActions:[n]}),e.router},e.router.partial=function(e,t){if(0===o.length)throw"Expected at least a registered route.";return o[o.length-1].partialURL=e,o[o.length-1].container=t||"[body]",this},e.router.scripts=function(e){if(0===o.length)throw"Expected at least a registered route.";o[o.length-1].scripts=o[o.length-1].scripts||[];var t=o[o.length-1].scripts;return e instanceof Array?t.push.apply(t,e):t.push(e),this},e.router.done=function(e){if(null==e)throw TypeError("Callback action is null or undefined.");var t=o[o.length-1].doneActions;return t.push(e),this},e.router.getRouteParam=function(){var e=a.pathname+a.hash,t=o.find(function(t){return t.pattern.test(e)}),n=e.match(t.pattern);n.shift();var r={},i=t.originalPattern.match(/:(\w*)/g);return(i=i&&i.map(function(e){return e.replace(":","")}))?(i.forEach(function(e,t){r[e]=n[t]}),r):null},e.router.ignoreRoute=function(e){var t=o.find(function(t){return t.originalPattern===e});if(t)throw"Pattern has been registered! Please check the routing configuration.";return u.push(c(e)),this},i.pushState?e(t).onPopstate(r):e(t).onHashchange(r),e.ready(function(){r()})}(this.html,this),function(e,t){"use strict";var n=t.document,r={},i={},a=[],o=[],u=[],c=[],s=n.getElementsByTagName("head")[0]||e(n).head.context,l=function(){var n,r=!1;if("string"==typeof o?a.forEach(function(e){e.url===o&&e.isLoaded&&(r=!0)}):o instanceof Array&&(r=!0,o.forEach(function(e){var t=a.find(function(t){return t.url===e&&t.isLoaded});t||(r=!1)})),r){for(;"function"==typeof u[0];)n=u.shift(),c.push(n);if(0===u.length)for(var i=c.length-1;i>=0;i--)n=c[i],n.apply(t,e.module(n.__requiredModules__)||[]);return e.scripts.render(u.shift())}};e.config.allowDuplicate=!1;var f=function(t,r){var i=a.find(function(e){return e.url===t});if(i&&!e.config.allowDuplicate)return void r();var o=n.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0;var u=function(){o.parentElement.removeChild(o),a.push({url:t,isLoaded:!0}),r()};return void 0!==o.onreadystatechange?o.onload=o.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||u()}:e(o).onLoad(u),o.src=t,s.appendChild(o),o},d=function(t){var r=a.find(function(e){return e.url===t});if(!r||e.config.allowDuplicate){var i=n.createElement("link");return i.type="text/css",i.rel="stylesheet",i.href=t,i.async=!0,s.appendChild(i),a.push({url:t,isLoaded:!0}),i}};e.scripts=function(t){e.extend(r,t)},e.styles=function(t){e.extend(i,t)},e.scripts.render=function(t){var n=r[t];if(n||(n=t),"string"==typeof n)o=n,f(n,l);else if(null!=n.push){o=n;for(var i=0,a=n.length;i<a;i++)f(n[i],l)}return e.scripts},e.styles.render=function(e){var t=i[e];if(t||(t=e),"string"==typeof t)d(t);else if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)d(t[n]);return this},e.scripts.then=function(t){return u.push(t),e.scripts},e.styles.then=function(t){return e.styles.render(t)},e.scripts.done=function(t,n){return u.push(t),t.__requiredModules__=n,e.scripts},e.require=e.scripts.render}(this.html,this),function(e){"use strict";var t={},n={};e.module=function(r,i){if(null==i){var a=r instanceof Array,o=[];r=a?r:[r];for(var u=0,c=r.length;u<c;u++)o.push(n[r[u]]||t[r[u]]);return a?o:o[0]}return t[r]=i,e},e.mockModule=function(t,r){return n[t]=r,e}}(this.html);