!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e):"function"==typeof e.define?e.define(t(e)):e.html=t(e)}(this,function(e){"use strict";function t(e){Object.defineProperty(g,e,{get:function(){var t=l.createElement(e);return null==c?c=t:(c.appendChild(t),c=t),g}})}function n(e,t,n){if(t=b(t),n=b(n),""!==n){for(var r=e.className;r.indexOf(n)!==-1;)r=r.replace(n,""),r=b(r);e.className=r}""!==t&&(e.className+=""===e.className?t:" "+t)}function r(e,t,n){t*=n;for(var r=0;r<n&&e.children.length;r++)e.removeChild(e.children[t])}function a(e,t,n){var r=null;if(0===t.children.length)throw"You must add at least one element";for(n*=t.children.length,r=e.children[n];t.children.length;)e.insertBefore(t.children[0],r)}function i(e,t,n){t?e.style.display="none"!==n?n:"":e.style.display="none"}function o(e,t,n){if(null==g.unwrapData(t))return-1;var r=g.unwrapData(e),a=g.unwrapData(t),i=r.indexOf(a);if(""!==n){var o=r.find(function(e){return e[n]===a[n]});i=r.indexOf(o)}return i}function u(e,t){"true"===t||t===!0?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1)}var c=null,s=null,l=e.document,f=Object.prototype,d=e.clearTimeout,p=e.setTimeout,h=function(e){return"[object Function]"===f.toString.call(e)},v=function(e){return"string"==typeof e},m=function(e){return"object"==typeof e&&null!=e&&!(e instanceof Date)},y=String.prototype.trim,b=function(e){return y&&y.call(e)||e.replace(/^\s+|\s+$/,"")},g=e.html=function e(t,n){return"string"==typeof t?(n=n||l,t=n.querySelector(t)):"function"==typeof t&&e.ready(t),c=t,e};g.find=function(e){return"string"==typeof e&&(c=c.querySelector(e)),g},g.config={allowDuplicateScripts:!1},Object.defineProperty(g,"context",{get:function(){return c}}),g.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},g.empty=function(){if(null==c)throw"Expect a context to execute this function. Please query an element first.";return c.innerHTML="",this};for(var w=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","object","ol","ptgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video"],E=0,x=w.length;E<x;E++)t(w[E]);Object.defineProperty(g,"$",{get:function(){return null!=c&&null!=c.parentElement&&(c=c.parentElement),g}}),["hr","br"].forEach(function(e){Object.defineProperty(g,e,{get:function(){return c.appendChild(l.createElement(e)),g}})});var D=["click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","keydown","keypress","keyup","abort","beforeunload","error","hashchange","load","resize","scroll","unload","blur","change","input","focus","focusin","focusout","inputting","invalid","reset","search","select","submit","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","copy","cut","paste","afterprint","beforeprint","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","animationend","animationiteration","animationstart","transitionend","message","online","offline","popstate","show","storage","toggle","wheel","compositionend","compositionstart","DOMContentLoaded"];D.forEach(function(e){g["on"+e[0].toUpperCase()+e.slice(1)]=function(t,n,r){if(null==c)throw"Expect a context to bind event. Please query an element first.";return null==t?g.trigger(e):c.addEventListener(e,function(e){var r=e.srcElement||e.target;s=r,t.call(r,e,n)},r),g}}),g.trigger=function(e){if(!e)throw"Event name must be specified";var t;l.createEvent?(t=l.createEvent("HTMLEvents"),t.initEvent(e,!0,!0)):l.createEventObject&&(t=l.createEventObject(),t.eventType=e);try{return void c[e]()}catch(e){}try{t.eventName=e,c.dispatchEvent?c.dispatchEvent(t):c.fireEvent?c.fireEvent("on"+t.eventType,t):c["on"+e]&&c["on"+e]()}catch(e){}},g.text=function(e){var t=l.createTextNode(g.unwrapData(e));return c.appendChild(t),null!=e&&e.subscribe&&(e.subscribe(function(e){t.textContent=e}),e.bindingNodes.push(c)),g},g.html=function(e){if(null!=e){var t=g.unwrapData(e),n=g.context;try{n.innerHTML=t}catch(e){n.innerText=t}return e.subscribe&&e.subscribe(function(e){try{n.innerHTML=e}catch(t){n.innerText=e}}),g}},g.value=function(e){var t=c,n=g.unwrapData(e);return t.value=null==n?"":n,e.subscribe&&(e.subscribe(function(e){s!==t&&(t.value=null==e?"":e)}),g(t).onInput(function(){e.data=this.value}),e.bindingNodes.push(c)),g},g.attr=function(e,t){if("string"==typeof e){if(void 0===t)return c.getAttribute(e);null!==t&&c.setAttribute(e,g.unwrapData(t))}else for(var n in e)e.hasOwnProperty(n)&&c.setAttribute(n,g.unwrapData(e[n]));return this};var _=/-([a-z])/g,j=function(e,t){return t.toUpperCase()},O=function(e){return e?e.replace(_,j):""};g.css=function(e,t){if("string"==typeof e)return e=O(e),null==t?l.defaultView?l.defaultView.getComputedStyle(c,null).getPropertyValue(e):c.currentStyle&&c.currentStyle[e]:(c.style[e]=t,this);for(var n in e)e.hasOwnProperty(n)&&(c.style[O(n)]=e[n]);return this},g.className=function(e){if(null==e)return g;var t=g.unwrapData(e),r=g.context;return n(r,t,t),e.subscribe&&e.subscribe(function(e,t){n(r,e,t)}),g},g.each=function(e,t){function n(e,n,o,u){var s=0;switch(c=i,u){case"push":t.call(i,n,o);break;case"add":if(o===e.length-1)return void t.call(i,n,o);var f=l.createElement("div");c=f,t.call(f,n,o),a(i,f,o),f=null;break;case"remove":s=i.children.length/(e.length+1),r(i,o,s);break;case"move":s=i.children.length/e.length;var d=o,p=e.indexOf(n);if(d===p)return;for(var h=p*s,v=p<d?i.children[(d+1)*s]:i.children[d*s],m=0;m<s;m++)i.insertBefore(i.children[h],v),p>d&&h++;break;case"render":g.empty();for(var y=e.length||e,b=-1;++b<y;)c=i,t.call(i,null==e[b]?b:e[b],b)}}if(e){var i=c;g(i).empty();for(var o=g.unwrapData(e),u=o.length||o,s=-1;++s<u;)c=i,t.call(i,null==o[s]?s:o[s],s);return c=i,e.subscribe&&e.subscribe(n),this}},g.append=function(e){return null!=c&&c.appendChild(e),g},g.prepend=function(e){if(null!=c){var t=c.parentElement;t.insertBefore(e,t.firstChild)}return g},g.after=function(e){if(null!=c){var t=c.parentElement;t.insertBefore(e,c.nextElementSibling)}return g},g.before=function(e){if(null!=c){var t=c.parentElement;t.insertBefore(e,c)}return g},g.serialize=function(e){if(e=e.subscribe?e._newData:e,null==e)return e;var t=e instanceof Array,n=t?[]:{},r=m(e)||null!=e;if(!r)return e;for(var a in e)if(e[a]&&e[a].subscribe&&!e[a].add){var i=e[a]._newData;n[a]=m(i)?g.unwrapData(e[a]):i}else n[a]=g.serialize(e[a]);if(t){a=0;for(var o=e.length;a<o;a++)n[a]=g.serialize(e[a])}return n},g.visible=function(e){var t=g.unwrapData(e),n=g.context,r=g.css("display");return i(n,t,r),e.subscribe&&e.subscribe(function(e){i(n,e,r)}),g},g.hidden=function(e){var t=e.data,n=g.context,r=g.css("display");return i(n,!t,r),e.subscribe&&e.subscribe(function(e){i(n,!e,r)}),g},g.dropdown=function(e,t,n,r){"select"!==c.nodeName.toLowerCase()&&g.select;var a=c;return g.each(e,function(e){var t=v(r)?e[r]:e,a=v(n)?e[n]:e;g.option.text(a).value(t).$}),a.selectedIndex=o(e,t,r),e.subscribe&&e.subscribe(function(e){a.selectedIndex=o(e,t,r)}),null!=t&&t.subscribe&&(t.bindingNodes.push(a),g(a).onChange(function(){var n=g.unwrapData(e)[this.selectedIndex];t.data=n}),t.subscribe(function(t){a.selectedIndex=o(e,t,r)})),g},g.checkbox=function(e){function t(t){var n=t.srcElement||t.target;null!=e._computedFn?e.notify():e.data=n.checked===!0}"checkbox"!==g.context.type&&g.input.attr({type:"checkbox"});var n=g.context;return u(n,g.unwrapData(e)),null!=e&&e.subscribe?(this.onChange(t).onClick(t),e.subscribe(function(e){s!==n&&u(n,e)})):n=null,g},g.unwrapData=function(e){var t=e;return null!=t&&t.subscribe&&(t=t.data),t},g.unwrapNoSideEffect=function(e,t){var n=e;for(e.subscribe&&(n=e._computedFn instanceof Function?e._computedFn:e._newData,t&&(n=e._newData));n instanceof Function;)n=n();return n};var k=[],A=[];return g.observable=function(e){function t(){var e=A.indexOf(n)>=0;if(!e){A.push(n);var t=g.unwrapData(n);n.subscribers.forEach(function(e){e(t,n._oldData)}),n.dependencies.forEach(function(e){e.notify()}),A.splice(A.indexOf(n),1)}}if(!(this instanceof g.observable))return new g.observable(e);var n=this;n._newData=null,n._computedFn=null,n._oldData=null,n.subscribers=[],n.rules=[],n.bindingNodes=[],n.dependencies=[],n.isValid=null,n.delayTime=null,e instanceof Function?(n._computedFn=e,k.push(n),n._newData=n._oldData=e(),k.pop()):n._newData=n._oldData=e,n.setDependency=function(e){var t=n.dependencies.indexOf(e);t<0&&e!==n&&n.dependencies.push(e)},n.get=function(){var e;if(h(n._computedFn)){for(k.push(n),e=n._computedFn;e instanceof Function;)e=e();n._oldData=n._newData,n._newData=e,k.pop()}else e=n._newData;return k.length&&n.setDependency(k[k.length-1]),e},n.set=function(e){n._newData!==e&&(n._oldData=n._newData,n._newData=e,n.notify())},Object.defineProperty(n,"data",{get:n.get,set:n.set}),n.subscribe=function(e){return n.subscribers.indexOf(e)<0&&n.subscribers.push(e),n};var r;n.notify=function(){return null==n._computedFn&&null==n.delayTime?void t():(d(r),void(r=p(function(){t()},n.delayTime)))},n.delay=function(e){if("number"!=typeof e)throw TypeError("Delay time must be a number.");return n.delayTime=e,n},n.validators=function(e){n.rules.push(e)},n.validate=function(){return n.isValid=null,n.rules.forEach(function(e){e(n)}),n.isValid}},g.observableArray=function(e){function t(e,t,r,a){var i=A.indexOf(n)>=0;i||(A.push(n),n.subscribers.forEach(function(n){n(e,t,r,a)}),n.dependencies.forEach(function(e){e.notify()}),A.splice(A.indexOf(n),1))}if(null==e)throw TypeError(" data is null or undefined.");if(!(e instanceof Array))throw TypeError(" expected an array but got a non-array parameter.");var n=this;return n instanceof g.observableArray?(g.observable.call(n,e),n.notify=function(e,r,a,i){e=e||n._newData,i=i||"render",t(e,r,a,i)},n.push=function(e){n.add(e)},n.add=function(e,t){t=void 0===t?n._newData.length:t,n._newData.splice(t,0,e),n.notify(n._newData,e,t,"add")},n.remove=function(e){var t=n._newData.indexOf(e);n.removeAt(t)},n.removeAt=function(e){var t=n._newData[e];n._newData.splice(e,1),n.notify(n._newData,t,e,"remove")},void(n.update=function(e,t){n._newData[t]=e,n.notify(n._newData,e,t,"udpate")})):new g.observableArray(e)},g.observableArray.prototype=Object.create(g.observable.prototype),g}),function(e,t){"use strict";function n(t){t.parentElement.removeChild(t);var n=t.jsonpId;e.ajax["jsonpId"+n]=void 0,t=null}var r=t.setTimeout,a=t.document,i=t.XMLHttpRequest;e.Promise=function(t){if(!(this instanceof e.Promise))return new e.Promise(t);var n=this;n.doneActions=[],n.failActions=[],n.resolve=function(e){n.doneActions.forEach(function(t){null!=t&&t(e)})},n.reject=function(e){n.failActions.forEach(function(t){null!=t&&t(e)})},n.done=function(e){return"function"==typeof e&&n.doneActions.push(e),n},n.fail=function(e){return"function"==typeof e&&n.failActions.push(e),n},r(function(){t(n.resolve,n.reject)})};var o=0,u=[];e.ajax=function(t,r,c,s){if(!(this instanceof e.ajax))return new e.ajax(t,r,c,s);var l,f,d,p={},h=null,v=null;c=c||"GET",s=void 0===s||s;var m=e.Promise(function(m,y){var b=u.find(function(e){return e.url===t});if(null!=b)return void m(b.data);if(l){var g=t+(/\?/.test(t)?"&":"?"),w=a.getElementsByTagName("head")[0],E=a.createElement("script"),x=[],D="";o++,e.ajax["jsonpId"+o]=l,r=r||{},r.callback="html.ajax.jsonpId"+o;for(D in r)r.hasOwnProperty(D)&&x.push(D+"="+encodeURIComponent(r[D]));return g+=x.join("&"),E.type="text/javascript",E.src=g,w.appendChild(E),E.jsonpId=o,void(void 0!==E.onreadystatechange&&(E.onload=E.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||n(E)}))}var _=new i;_.open(c,t,s,f,d),_.onreadystatechange=function(){if(4===_.readyState&&200===_.status){var e;try{e=null!=h?h(_.responseText||_.responseXML):_.responseText||_.responseXML}catch(e){y("Invalid data type.",_)}m(e)}else 4===_.readyState&&200!==_.status&&y(_.response,_)};for(var j in p)p.hasOwnProperty(j)&&_.setRequestHeader(j,p[j]);v&&v>0&&(_.timeout=v,_.ontimeout=function(){y("timeout",_)}),_.send(r)});this.jsonp=function(e){return l=e,this},this.authenticate=function(e,t){return f=e,d=t,this},this.header=function(t,n){return void 0!==n&&"function"==typeof t?p[t]=n:e.extend(p,t),this},this.parser=function(e){return h=e,this},this.timeout=function(e){return v=e,this},this.contentType=function(t){return e.extend(p,{"Content-type":t}),this},this.done=m.done,this.fail=m.fail},e.ajax.mock=function(e,t){u.push({url:e,data:t})},e.ajax.clearMock=function(e){for(;u.length;)u.pop()},e.getJSON=function(t,n,r){var a=[];for(var i in n)n.hasOwnProperty(i)&&a.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));return e.ajax(a.length?t+"?"+a.join("&"):t,null,"GET",r).parser(JSON.parse)},e.postJSON=function(t,n,r){return e.ajax(t,JSON.stringify(n),"POST",r).header({"Content-type":"application/json"}).parser(JSON.parse)},e.partial=function(t,n){if(null==n)throw"containerSelector is null or undefined";var r=e(n).context,a=null,i=[],o=e.ajax(t);return o.done(function(t){if(e(r).empty(),r.innerHTML=t,r=null,null!=a){var n=e.scripts.render(a);n.done(function(){i.forEach(function(e){null!=e&&e(t)})})}else i.forEach(function(e){null!=e&&e(t)})}),o.scripts=function(e){return a=e,o},o.done=function(e){return"function"==typeof e&&i.push(e),o},o}}(this.html,this),function(e,t){"use strict";var n=t.document,r=t.setTimeout;e.ready=function(e){u(e),f()};var a=!1,i=!1,o=[],u=function(e){"function"==typeof e&&o.push(e)},c=function(){for(;o.length;)o.shift()();u=function(e){e()}},s=function(){n.addEventListener?n.removeEventListener("DOMContentLoaded",s,!1):n.detachEvent("onreadystatechange",s),l()},l=function(){if(!i){if(!n.body)return r(l,1);i=!0,c()}},f=function(){var e=!1;if(!a)if(a=!0,"loading"!==n.readyState&&l(),n.addEventListener)n.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);try{e=null===t.frameElement}catch(e){}n.documentElement.doScroll&&e&&d()}},d=function(){if(!i){try{n.documentElement.doScroll("left")}catch(e){return void r(d,1)}l()}}}(this.html,this),function(e,t){"use strict";function n(e,t){e.forEach(function(e){e&&e.apply(null,t)})}function r(t){if(null!=Array.prototype.find){var r=null,a=null,c=null;if(r=i.pathname+i.hash,a=u.find(function(e){return e.test(r)}),c=o.find(function(e){return e.pattern.test(r)}),null!=c&&!a){var s=r.match(c.pattern);s.shift(),c.partialURL?e.partial(c.partialURL,c.container).done(function(){var t=null!=c.scripts&&c.scripts.slice(0);if(null!=t&&t.length>0){for(var r=e.scripts.render(t.shift());t.length;)r.then(t.shift());r.done(function(){n(c.doneActions,s)})}else n(c.doneActions,s)}):n(c.doneActions,s)}}}var a=t.history,i=t.location,o=[],u=[],c=null;c=function(e){var t="^"+e.replace(/\//g,"\\/").replace(/\?/g,"\\?").replace(/:([0-9a-zA-Z-_]*)/g,"([0-9a-zA-Z-_]*)")+"$";return new RegExp(t)},e.router={},e.router.when=function(t,n){var r=o.find(function(e){return e.originalPattern===t});if(r)throw"Duplicated pattern: "+t+". Please provide another pattern!";return o.push({originalPattern:t,pattern:c(t),doneActions:[n]}),e.router},e.router.partial=function(e,t){if(0===o.length)throw"Expected at least a registered route.";return o[o.length-1].partialURL=e,o[o.length-1].container=t||"[body]",this},e.router.scripts=function(e){if(0===o.length)throw"Expected at least a registered route.";o[o.length-1].scripts=o[o.length-1].scripts||[];var t=o[o.length-1].scripts;return e instanceof Array?t.push.apply(t,e):t.push(e),this},e.router.done=function(e){if(null==e)throw TypeError("Callback action is null or undefined.");var t=o[o.length-1].doneActions;return t.push(e),this},e.router.getRouteParam=function(){var e=i.pathname+i.hash,t=o.find(function(t){return t.pattern.test(e)}),n=e.match(t.pattern);n.shift();var r={},a=t.originalPattern.match(/:(\w*)/g);return(a=a&&a.map(function(e){return e.replace(":","")}))?(a.forEach(function(e,t){r[e]=n[t]}),r):null},e.router.ignoreRoute=function(e){var t=o.find(function(t){return t.originalPattern===e});if(t)throw"Pattern has been registered! Please check the routing configuration.";return u.push(c(e)),this},a.pushState?e(t).onPopstate(r):e(t).onHashchange(r),e.ready(function(){r()})}(this.html,this),function(e,t){"use strict";var n=t.document,r={},a={},i=[],o=[],u=[],c=[],s=n.getElementsByTagName("head")[0]||e(n).head.context,l=function(){var n,r=!1;if("string"==typeof o?i.forEach(function(e){e.url===o&&e.isLoaded&&(r=!0)}):o instanceof Array&&(r=!0,o.forEach(function(e){var t=i.find(function(t){return t.url===e&&t.isLoaded});t||(r=!1)})),r){for(;"function"==typeof u[0];)n=u.shift(),c.push(n);if(0===u.length)for(var a=c.length-1;a>=0;a--)n=c[a],n.apply(t,e.module(n.__requiredModules__)||[]);return e.scripts.render(u.shift())}};e.config.allowDuplicate=!1;var f=function(t,r){var a=i.find(function(e){return e.url===t});if(a&&!e.config.allowDuplicate)return void r();var o=n.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0;var u=function(){o.parentElement.removeChild(o),i.push({url:t,isLoaded:!0}),r()};return void 0!==o.onreadystatechange?o.onload=o.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||u()}:e(o).onLoad(u),o.src=t,s.appendChild(o),o},d=function(t){var r=i.find(function(e){return e.url===t});if(!r||e.config.allowDuplicate){var a=n.createElement("link");return a.type="text/css",a.rel="stylesheet",a.href=t,a.async=!0,s.appendChild(a),i.push({url:t,isLoaded:!0}),a}};e.scripts=function(t){e.extend(r,t)},e.styles=function(t){e.extend(a,t)},e.scripts.render=function(t){var n=r[t];if(n||(n=t),"string"==typeof n)o=n,f(n,l);else if(null!=n.push){o=n;for(var a=0,i=n.length;a<i;a++)f(n[a],l)}return e.scripts},e.styles.render=function(e){var t=a[e];if(t||(t=e),"string"==typeof t)d(t);else if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)d(t[n]);return this},e.scripts.then=function(t){return u.push(t),e.scripts},e.styles.then=function(t){return e.styles.render(t)},e.scripts.done=function(t,n){return u.push(t),t.__requiredModules__=n,e.scripts},e.require=e.scripts.render}(this.html,this),function(e){"use strict";var t={},n={};e.module=function(r,a){if(null==a){var i=r instanceof Array,o=[];r=i?r:[r];for(var u=0,c=r.length;u<c;u++)o.push(n[r[u]]||t[r[u]]);return i?o:o[0]}return t[r]=a,e},e.mockModule=function(t,r){return n[t]=r,e}}(this.html);